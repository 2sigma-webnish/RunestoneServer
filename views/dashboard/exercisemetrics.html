{{extend 'layout.html'}}
<script type="text/javascript" src="http://kozea.github.com/pygal.js/javascripts/svg.jquery.js"></script>
<script type="text/javascript" src="http://kozea.github.com/pygal.js/javascripts/pygal-tooltips.js"></script>
<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<link rel="stylesheet" type="text/css" href="{{=URL('static', 'dashboard.css')}}"/>
<script src="{{=URL('static', 'dashboard-charts.js')}}"></script>

<div id="dashboard">
	<h1>{{=course_name}} <span class="dash-title-description">Spring 2016 Instructor Dashboard</span></h1>
	{{include 'dashboard/dashboard-nav.html'}}
	<h3>CSP-3-2-1 What will be printed when you click on the Run button in the code below?</h3>
	<div>Open Ended Question.
		<div style="float:right;"><a href="">Go to exercise &raquo;</a></div>
	</div>

	<div class="col-md-7">
		<div class="dash-section">
			<div class="dash-section-header">
				Attempts
			</div>
			<div class="dash-section-content">
				<div id="chart-exercise-attempts"></div>
				<div><b>Students who...</b>
					<div>
						<div style="height: 10px; width: 10px; border: 1px solid #333; background-color: #00CC66; float: left; margin-top: 3px; margin-right: 3px"></div>
						got it correct on the first attempt: 13
					</div>
					<div>
						<div style="height: 10px; width: 10px; border: 1px solid #333; background-color: #00CC66; float: left; margin-top: 3px; margin-right: 3px"></div>
						got it correct after multiple attempts: 15
					</div>
					<div>
						<div style="height: 10px; width: 10px; border: 1px solid #333; background-color: #00CC66; float: left; margin-top: 3px; margin-right: 3px"></div>
						never got it correct: 3
					</div>
					<div>
						<div style="height: 10px; width: 10px; border: 1px solid #333; background-color: #00CC66; float: left; margin-top: 3px; margin-right: 3px"></div>
						never attempted it: 2
					</div>
				</div>
			</div>
			<script type="text/javascript">
			DashboardCharts.exerciseAttempts();
			</script>
		</div>
		<div class="dash-section">
			<div class="dash-section-header">
				Responses
			</div>
			<div class="dash-section-content">
				<table>
					<thead>
						<tr>
							<td width="300px">Response</td>
							<td width="100px">Frequency</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>4</td>
							<td>24</td>
						</td>
						<tr>
							<td>4.0</td>
							<td>11</td>
						</td>
						<tr>
							<td>2</td>
							<td>7</td>
						</td>
						<tr>
							<td>28</td>
							<td>5</td>
						</td>
					</tbody>
				</table>
<b style="color:red">currently response text isn't stored, just correct or incorrect</b>
			</div>
		</div>
	</div>
	<div class="col-md-5">
		<div class="dash-section">
			<div class="dash-section-header">
				Responses by Student
			</div>
			<div class="dash-section-content">
				<div style="text-align: right"><b>Sort by</b>
					<select name="exercise-sortby">
					  <option value="missed">Alphabetical</option>
					  <option value="saab" selected>Most Missed</option>
					</select>
				</div>
				<table>
					<thead>
						<tr>
							<td rowspan="2" width="150px">Student</td>
							<td colspan="4">Responses</td>
						</tr>
						<tr>
							<td width="75">1st</td>
							<td width="75">2nd</td>
							<td width="75">3rd</td>
							<td width="75">4th</td>
						</tr>
					</thead>
					{{ for answer in answers: }}
					<tr>
						<td><a href="{{=URL('studentreport')}}?id=1">{{=answer["student"]}}</a></td>
						<td>{{=answer["answers"][0]}}</td>
						<td>{{=answer["answers"][1]}}</td>
						<td>{{=answer["answers"][2]}}</td>
						<td>{{=answer["answers"][3]}}</td>
					</tr>
					{{ pass }}
				</table>
			</div>
		</div>
	</div>
</div>